<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta charset="ISO-8859-1">
    <title>Second</title>
    <link rel="stylesheet"
          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
          crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <style>
        .svg-icon {
            width: 1em;
            height: 1em;
        }

        .svg-icon path,
        .svg-icon polygon,
        .svg-icon rect {
            fill: #ffffff;
        }

        .svg-icon circle {
            stroke: #ffffff;
            stroke-width: 1;
        }

        a {
            font-family: initial;
        }
    </style>
</head>
<body class="bg-white">
<div class="container my-2 mt-2" align="center">
    <div class="row">
        <div class="col-md pl-0" th:align="start">
            <img class="mt-3" th:src="@{/images/logo.png}" width="200" height="60"/>
        </div>

        <div class="col-md pr-0" th:align="right">
            <img th:src="@{/images/atm.png}" width="200" height="90"/>
        </div>
    </div>
</div>
<div class="container text-info mt-3 pt-1">
    <a th:href="@{/}" th:text="${name}"></a>
    <span class="text-primary"> > </span>
</div>
<div class="container my-2 mt-4" align="center">
    <table border="1" class="table table-responsive-md table-hover mt-2">
        <thead class="bg-primary text-white">
        <tr align="center">
            <th style="vertical-align: middle">â„–</th>
            <th style="vertical-align: middle" class="align-self-center">Ma'lumot nomi</th>
            <th style="vertical-align: middle" class="align-self-center">Ma'lumot yuboruvchi</th>
            <th style="vertical-align: middle">Qabul qiluvchi</th>
            <th style="vertical-align: middle">Metod turi</th>
            <th style="vertical-align: middle">Davriyligi</th>
            <th style="vertical-align: middle">
                <div class="btn-group">
                    <button id="createSec" type="button" class="btn btn-success btn-sm" onclick="add_more()">Qo'shish
                    </button>
                </div>
            </th>
        </tr>
        </thead>
        <tbody id="created">
        <tr th:each="second,iterationStatus:${second}" align="center">
            <th style="vertical-align: middle" th:text="${iterationStatus.count}">1.</th>
            <td style="vertical-align: middle;white-space: pre-wrap" align="start"><a
                    th:href="@{/example(index3=${second.getId()},periodicity=${second.getPeriodicity})}"
                    class="text-dark"
                    th:text="${second.getName()}"></a></td>
            <td style="vertical-align: middle;white-space: pre-wrap" class="text-dark"
                th:text="${second.getInfoSender()}"></td>
            <td style="vertical-align: middle;white-space: pre-wrap" class="text-dark"
                th:text="${second.getRecipient()}"></td>
            <td style="vertical-align: middle;white-space: pre-wrap" class="text-dark"
                th:text="${second.getMethod()}"></td>
            <td style="vertical-align: middle;white-space: pre-wrap" class="text-dark"
                th:text="${second.getPeriodicity()}"></td>
            <th style="vertical-align: middle">
                <div class="btn-group text-white">
                    <a class="btn btn-primary btn-sm" th:value="${second.id}"
                       th:attr="onclick=|updateSecond('${second.id}','${second.getName()}','${second.infoSender}','${second.recipient}','${second.method}','${second.periodicity}')|">
                        <svg class="svg-icon" viewBox="0 0 20 20">
                            <path fill="none"
                                  d="M19.404,6.65l-5.998-5.996c-0.292-0.292-0.765-0.292-1.056,0l-2.22,2.22l-8.311,8.313l-0.003,0.001v0.003l-0.161,0.161c-0.114,0.112-0.187,0.258-0.21,0.417l-1.059,7.051c-0.035,0.233,0.044,0.47,0.21,0.639c0.143,0.14,0.333,0.219,0.528,0.219c0.038,0,0.073-0.003,0.111-0.009l7.054-1.055c0.158-0.025,0.306-0.098,0.417-0.211l8.478-8.476l2.22-2.22C19.695,7.414,19.695,6.941,19.404,6.65z M8.341,16.656l-0.989-0.99l7.258-7.258l0.989,0.99L8.341,16.656z M2.332,15.919l0.411-2.748l4.143,4.143l-2.748,0.41L2.332,15.919z M13.554,7.351L6.296,14.61l-0.849-0.848l7.259-7.258l0.423,0.424L13.554,7.351zM10.658,4.457l0.992,0.99l-7.259,7.258L3.4,11.715L10.658,4.457z M16.656,8.342l-1.517-1.517V6.823h-0.003l-0.951-0.951l-2.471-2.471l1.164-1.164l4.942,4.94L16.656,8.342z"></path>
                        </svg>
                    </a>
                    <a th:href="@{/secondary/delete(index=${second.id},index2=${sec})}"
                       onclick="if (!confirm('Are you sure?')) { return false }"
                       class="btn btn-danger btn-sm">
                        <svg class="svg-icon" viewBox="0 0 20 20">
                            <path fill="none" d="M7.083,8.25H5.917v7h1.167V8.25z M18.75,3h-5.834V1.25c0-0.323-0.262-0.583-0.582-0.583H7.667
								c-0.322,0-0.583,0.261-0.583,0.583V3H1.25C0.928,3,0.667,3.261,0.667,3.583c0,0.323,0.261,0.583,0.583,0.583h1.167v14
								c0,0.644,0.522,1.166,1.167,1.166h12.833c0.645,0,1.168-0.522,1.168-1.166v-14h1.166c0.322,0,0.584-0.261,0.584-0.583
								C19.334,3.261,19.072,3,18.75,3z M8.25,1.833h3.5V3h-3.5V1.833z M16.416,17.584c0,0.322-0.262,0.583-0.582,0.583H4.167
								c-0.322,0-0.583-0.261-0.583-0.583V4.167h12.833V17.584z M14.084,8.25h-1.168v7h1.168V8.25z M10.583,7.083H9.417v8.167h1.167V7.083
								z"></path>
                        </svg>
                    </a>
                </div>
            </th>
        </tr>
        </tbody>
    </table>
    <form id="form1" style="display: none" th:action="@{/secondary/create}" th:method="post"
          th:object="${secondaryPage}">
        <div id="table">
            <table border="1"
                   class="table table-responsive-md table-hover">
                <tbody>
                <tr align="center" class="align-self-center">
                    <td><input id="second" type="text" th:maxlength="100" th:field="*{name}" class="form-control"
                               style="width: 98%" placeholder="Ma'lumot nomi"
                               th:value="${keyword}" required/></td>
                    <td><input id="second2" type="text" th:maxlength="80" th:field="*{infoSender}" class="form-control"
                               style="width: 98%"
                               placeholder="Ma'lumot yuboruvchi"
                               th:value="${keyword}" required/></td>
                    <td><input id="second3" type="text" th:maxlength="80" th:field="*{recipient}" class="form-control"
                               style="width: 98%"
                               placeholder="Qabul qiluvchi"
                               th:value="${keyword}" required/></td>
                    <td style="vertical-align: middle">
                        <select id="second4" th:field="*{method}">
                            <option th:value="'POST'" th:text="POST"></option>
                            <option th:value="'GET'" th:text="GET"></option>
                        </select>
                    </td>
                    <td style="vertical-align: middle">
                        <select id="second5" th:field="*{periodicity}">
                            <option th:value="'so`rov asosida'" th:text="so+'`'+rov+' '+asosida"></option>
                            <option th:value="'onlayn'" th:text="onlayn"></option>
                        </select>
                    </td>
                    <td><input id="second6" type="text" name="sec" class="form-control"
                               style="width: 98%; display: none; visibility: hidden"
                               placeholder="Davrivligi"
                               th:value="${sec}" required/>
                        <div style="display: flex;font-family: initial">
                            <button id="saveSec" type="submit" class="btn btn-success btn-sm"
                                    onclick="cancel()">
                                <svg class="svg-icon" viewBox="0 0 20 20">
                                    <path fill="none" d="M7.197,16.963H7.195c-0.204,0-0.399-0.083-0.544-0.227l-6.039-6.082c-0.3-0.302-0.297-0.788,0.003-1.087
							C0.919,9.266,1.404,9.269,1.702,9.57l5.495,5.536L18.221,4.083c0.301-0.301,0.787-0.301,1.087,0c0.301,0.3,0.301,0.787,0,1.087
							L7.741,16.738C7.596,16.882,7.401,16.963,7.197,16.963z"></path>
                                </svg>
                            </button>
                            <button id="cancelSec" type="button" class="btn btn-danger btn-sm ml-1"
                                    onclick="saveOne()">
                                <svg class="svg-icon" viewBox="0 0 20 20">
                                    <path fill="none" d="M11.469,10l7.08-7.08c0.406-0.406,0.406-1.064,0-1.469c-0.406-0.406-1.063-0.406-1.469,0L10,8.53l-7.081-7.08
							c-0.406-0.406-1.064-0.406-1.469,0c-0.406,0.406-0.406,1.063,0,1.469L8.531,10L1.45,17.081c-0.406,0.406-0.406,1.064,0,1.469
							c0.203,0.203,0.469,0.304,0.735,0.304c0.266,0,0.531-0.101,0.735-0.304L10,11.469l7.08,7.081c0.203,0.203,0.469,0.304,0.735,0.304
							c0.267,0,0.532-0.101,0.735-0.304c0.406-0.406,0.406-1.064,0-1.469L11.469,10z"></path>
                                </svg>
                            </button>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </form>
    <form id="form123" style="display: none" th:action="@{/secondary/update}" th:method="post"
          th:object="${secondaryPage}">
        <div>
            <table border="1"
                   class="table table-responsive-md table-hover">
                <tbody>
                <tr align="center" class="align-self-center">
                    <td><input id="sec123" type="text" th:maxlength="100" th:field="*{name}" class="form-control"
                               style="width: 98%" placeholder="Ma'lumot nomi"
                               th:value="${keyword}" required/></td>
                    <td><input id="second121" type="text" th:maxlength="80" th:field="*{infoSender}"
                               class="form-control"
                               style="width: 98%"
                               placeholder="Ma'lumot yuboruvchi"
                               th:value="${keyword}" required/></td>
                    <td><input id="second122" type="text" th:maxlength="80" th:field="*{recipient}" class="form-control"
                               style="width: 98%"
                               placeholder="Qabul qiluvchi"
                               th:value="${keyword}" required/></td>
                    <td style="vertical-align: middle">
                        <select id="second123" th:field="*{method}">
                            <option th:value="'POST'" th:text="POST"></option>
                            <option th:value="'GET'" th:text="GET"></option>
                        </select>
                    </td>
                    <td style="vertical-align: middle">
                        <select id="second124" th:field="*{periodicity}">
                            <option th:value="'so`rov asosida'" th:text="so+'`'+rov+' '+asosida"></option>
                            <option th:value="'onlayn'" th:text="onlayn"></option>
                        </select>
                    </td>
                    <td style="vertical-align: middle"><input id="second125" type="text" name="sec" class="form-control"
                               style="width: 98%; display: none; visibility: hidden"
                               placeholder="Davrivligi"
                               th:value="${sec}" required/>
                        <div style="display: flex;font-family: initial">
                            <button id="saveSec123" type="submit" class="btn btn-success btn-sm"
                                    onclick="cancel123()">
                                <svg class="svg-icon" viewBox="0 0 20 20">
                                    <path fill="none" d="M7.197,16.963H7.195c-0.204,0-0.399-0.083-0.544-0.227l-6.039-6.082c-0.3-0.302-0.297-0.788,0.003-1.087
							C0.919,9.266,1.404,9.269,1.702,9.57l5.495,5.536L18.221,4.083c0.301-0.301,0.787-0.301,1.087,0c0.301,0.3,0.301,0.787,0,1.087
							L7.741,16.738C7.596,16.882,7.401,16.963,7.197,16.963z"></path>
                                </svg>
                            </button>
                            <button id="cancelSec123" type="button" class="btn btn-danger btn-sm ml-1"
                                    onclick="cancel123()">
                                <svg class="svg-icon" viewBox="0 0 20 20">
                                    <path fill="none" d="M11.469,10l7.08-7.08c0.406-0.406,0.406-1.064,0-1.469c-0.406-0.406-1.063-0.406-1.469,0L10,8.53l-7.081-7.08
							c-0.406-0.406-1.064-0.406-1.469,0c-0.406,0.406-0.406,1.063,0,1.469L8.531,10L1.45,17.081c-0.406,0.406-0.406,1.064,0,1.469
							c0.203,0.203,0.469,0.304,0.735,0.304c0.266,0,0.531-0.101,0.735-0.304L10,11.469l7.08,7.081c0.203,0.203,0.469,0.304,0.735,0.304
							c0.267,0,0.532-0.101,0.735-0.304c0.406-0.406,0.406-1.064,0-1.469L11.469,10z"></path>
                                </svg>
                            </button>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
            <input id="second128" type="text" name="second" class="form-control"
                   style="width: 98%; display: none; visibility: hidden"
                   placeholder="Davrivligi" required/>
        </div>
    </form>
</div>

</body>
<script>
    var first = document.getElementById("second");
    var first2 = document.getElementById("second2");
    var first3 = document.getElementById("second3");
    var form1 = document.getElementById("form1");
    var form123 = document.getElementById("form123");

    function add_more() {
        form1.style.display = "inline";
        first.value = "";
        first2.value = "";
        first3.value = "";
        form123.style.display = "none";
    }

    function cancel() {
        form1.style.display = "none";
        form123.style.display = "none";
    }

    function saveOne() {
        form1.style.display = "none";
        form123.style.display = "none";
    }

    function updateSecond(second,name,infoSender,recipient,method,periodicity) {
        form123.style.display = "inline";
        form1.style.display = "none";
        document.getElementById("second128").value = second;
        document.getElementById("sec123").value = name;
        document.getElementById("second121").value = infoSender;
        document.getElementById("second122").value = recipient;
        document.getElementById("second123").value = method;
        document.getElementById("second124").value = periodicity;
    }

    function cancel123() {
        form1.style.display = "none";
        form123.style.display = "none";
    }
</script>
</html>